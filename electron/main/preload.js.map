{
  "version": 3,
  "sources": ["../preload/index.ts", "../preload/api/window.ts", "../preload/api/save.ts", "../preload/api/credentials.ts", "../preload/api/uploads.ts", "../preload/api/fileSystem.ts", "../preload/api/resources.ts", "../preload/api/admin.ts", "../preload/api/viewsFavs.ts", "../preload/api/index.ts"],
  "sourcesContent": ["import { contextBridge } from 'electron'\r\nimport { electronAPI } from '@electron-toolkit/preload'\r\nimport { createPreloadApi } from './api'\r\n\r\n// Lazily create the bridge API so we only touch ipcRenderer when needed\r\nconst api = createPreloadApi()\r\n\r\n// Use `contextBridge` APIs to expose Electron APIs to\r\n// renderer only if context isolation is enabled, otherwise\r\n// just add to the DOM global.\r\nif (process.contextIsolated) {\r\n  try {\r\n    contextBridge.exposeInMainWorld('electron', electronAPI)\r\n    contextBridge.exposeInMainWorld('api', api)\r\n  } catch (error) {\r\n    console.error(error)\r\n  }\r\n} else {\r\n  // @ts-expect-error (define in global dts for non-isolated context)\r\n  window.electron = electronAPI\r\n  // @ts-expect-error (define in global dts for non-isolated context)\r\n  window.api = api\r\n}\r\n", "import { ipcRenderer } from 'electron'\r\nimport type { WindowApi } from './types'\r\n\r\nconst resizeChannel = 'win:resize'\r\n\r\nexport const createWindowApi = (): WindowApi => ({\r\n  minimize: () => ipcRenderer.invoke('win:minimize'),\r\n  maximize: () => ipcRenderer.invoke('win:maximize'),\r\n  close: () => ipcRenderer.invoke('win:close'),\r\n  getWindowSize: async () =>\r\n    (await ipcRenderer.invoke('win:getSize')) as { width: number; height: number },\r\n  onWindowResize: (callback) => {\r\n    const handler = (_event: unknown, size: { width: number; height: number }) => callback(size)\r\n    ipcRenderer.on(resizeChannel, handler)\r\n    return () => ipcRenderer.removeListener(resizeChannel, handler)\r\n  },\r\n  setBackgroundColor: (color: string) => ipcRenderer.invoke('win:setBackgroundColor', color),\r\n})\r\n", "import { ipcRenderer } from 'electron'\r\nimport type { SaveApi } from './types'\r\n\r\nexport const createSaveApi = (): SaveApi => ({\r\n  readSave: () => ipcRenderer.invoke('save:read'),\r\n  saveWrite: (patch) => ipcRenderer.invoke('save:write', patch ?? {}),\r\n})\r\n", "import { ipcRenderer } from 'electron'\r\nimport type { CredentialsApi } from './types'\r\n\r\nexport const createCredentialsApi = (): CredentialsApi => ({\r\n  isAvailable: () => ipcRenderer.invoke('credentials:isAvailable'),\r\n  store: (email, password) => ipcRenderer.invoke('credentials:store', email, password),\r\n  get: (email) => ipcRenderer.invoke('credentials:get', email),\r\n  getEmails: () => ipcRenderer.invoke('credentials:getEmails'),\r\n  has: (email) => ipcRenderer.invoke('credentials:has', email),\r\n  delete: (email) => ipcRenderer.invoke('credentials:delete', email),\r\n  promptHello: (email) => ipcRenderer.invoke('credentials:promptHello', email),\r\n})\r\n", "import { ipcRenderer } from 'electron'\r\nimport type { UploadsApi } from './types'\r\n\r\nexport const createUploadsApi = (): UploadsApi => ({\r\n  begin: () => ipcRenderer.invoke('uploads:begin'),\r\n  end: () => ipcRenderer.invoke('uploads:end'),\r\n})\r\n", "import { ipcRenderer } from 'electron'\r\nimport type { FileSystemApi } from './types'\r\n\r\nexport const createFileSystemApi = (): FileSystemApi => ({\r\n  writeFile: (path, data) => ipcRenderer.invoke('fs:writeFile', path, data),\r\n  readFile: (path) => ipcRenderer.invoke('fs:readFile', path),\r\n  exists: (path) => ipcRenderer.invoke('fs:exists', path),\r\n  ensureDir: (path) => ipcRenderer.invoke('fs:ensureDir', path),\r\n})\r\n", "import { ipcRenderer } from 'electron'\r\nimport type { ResourcesApi } from './types'\r\n\r\nexport const createResourcesApi = (): ResourcesApi => ({\r\n  pickJsonFile: () => ipcRenderer.invoke('resources:pickJsonFile'),\r\n  saveLibraryBin: (segments, fileName, content) =>\r\n    ipcRenderer.invoke('resources:saveLibraryBin', segments, fileName, content),\r\n  listLibraryBins: (options) => ipcRenderer.invoke('resources:listLibraryBins', options),\r\n  readImageAsBase64: (sourceDir, imagePath) =>\r\n    ipcRenderer.invoke('resources:readImageAsBase64', sourceDir, imagePath),\r\n  openExternal: (url) => ipcRenderer.invoke('resources:openExternal', url),\r\n})\r\n", "import { ipcRenderer } from 'electron'\r\nimport type { AdminApi } from './types'\r\n\r\nexport const createAdminApi = (): AdminApi => ({\r\n  listUsers: () => ipcRenderer.invoke('admin:listUsers'),\r\n  updateUserRole: (userId, role) => ipcRenderer.invoke('admin:updateUserRole', userId, role),\r\n})\r\n", "import { ipcRenderer } from 'electron'\r\nimport type { ViewsFavsApi, ViewsFavsItem } from './types'\r\n\r\nexport const createViewsFavsApi = (): ViewsFavsApi => ({\r\n  load: () => ipcRenderer.invoke('vf:load') as Promise<ViewsFavsItem[]>,\r\n  save: (items) => ipcRenderer.invoke('vf:save', items ?? []) as Promise<boolean>,\r\n})", "import { createWindowApi } from './window'\r\nimport { createSaveApi } from './save'\r\nimport { createCredentialsApi } from './credentials'\r\nimport { createUploadsApi } from './uploads'\r\nimport { createFileSystemApi } from './fileSystem'\r\nimport { createResourcesApi } from './resources'\r\nimport { createAdminApi } from './admin'\r\nimport { createViewsFavsApi } from './viewsFavs'\r\nimport type { PreloadApi } from './types'\r\n\r\nexport const createPreloadApi = (): PreloadApi => {\r\n  const windowApi = createWindowApi()\r\n  const saveApi = createSaveApi()\r\n\r\n  return {\r\n    platform: process.platform,\r\n    window: windowApi,\r\n    ...windowApi,\r\n    readSave: saveApi.readSave,\r\n    saveWrite: saveApi.saveWrite,\r\n    save: saveApi,\r\n    credentials: createCredentialsApi(),\r\n    uploads: createUploadsApi(),\r\n    fs: createFileSystemApi(),\r\n    resources: createResourcesApi(),\r\n    admin: createAdminApi(),\r\n    viewsFavs: createViewsFavsApi(),\r\n  }\r\n}\r\n\r\nexport type { PreloadApi }\r\n"],
  "mappings": "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",
  "names": ["import_electron", "import_electron", "import_electron", "import_electron", "import_electron", "import_electron", "import_electron", "import_electron"]
}
